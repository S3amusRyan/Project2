<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="/template.xhtml">
    <ui:define name="title">
        Provider Page
    </ui:define>
    <ui:define name="content">
        <h:body>
            <h3>Create New Job Offer</h3>
            <h:outputLabel>Title:</h:outputLabel>
            <h:inputText value="#{createJobsBean.title}" requiredMessage="Please enter your name" maxlength="30"/>
            <br />
            <br />

            <h:outputLabel>Keywords:</h:outputLabel>
            <h:inputText value="#{createJobsBean.keywords}"/>
            <br />
            <br />

            <h:outputLabel>Description</h:outputLabel>
            <h:inputTextarea value="#{createJobsBean.description}" cols="14" rows="4" style="width:150">
            </h:inputTextarea>
            <br />
            <br />

            <h:outputLabel>Payment Offer:</h:outputLabel>
            <h:inputText value="#{createJobsBean.payment}"/>
            <br />
            <br /> 

            <h:commandButton action="#{createJobsBean.register(loginView.authenticatedProvider)}" value="Register">
            </h:commandButton>
            <br />
            <br />

            <h2>List the Provider's Job descriptions: #{removeView.email} </h2>
            <h:dataTable value="#{searchJobsBeans.findJobByProviderId(loginView.authenticatedProvider)}" var="Job"
                         border="1" width="300" cellpadding="5">

                <h:column>
                    <f:facet name='header'>ID</f:facet>
                        #{Job.jobsId}    
                </h:column>

                <h:column>
                    <f:facet name='header'>Provider ID</f:facet>
                        #{Job.providerId.id}    
                </h:column>

                <h:column>
                    <f:facet name='header'>Title</f:facet>
                        #{Job.title}    
                </h:column>

                <h:column>
                    <f:facet name='header'>Keywords</f:facet>
                        #{Job.keywords}    
                </h:column>

                <h:column>
                    <f:facet name='header'>Description</f:facet>
                        #{Job.description}    
                </h:column>

                <h:column>
                    <f:facet name='header'>Payment</f:facet>
                        #{Job.payment}    
                </h:column>

                <h:column>
                    <f:facet name='header'>Status</f:facet>
                        #{Job.status}    
                </h:column>

                <h:column>
                    <f:facet name="header">Delete</f:facet>
                    <h:commandButton value="Delete" 
                                     action="#{removeView.removeJobDescriptions(Job)}">
                    </h:commandButton>

                </h:column>


            </h:dataTable>
            <br/><br/>
            <h:outputText value="" escape="false"/>

            <p>This page is private.</p>
            <p>User email: #{loginView.authenticatedUser.email}</p>
            <p>Provider Name: #{loginView.authenticatedUser.name}</p>



            <h:commandLink action="#{loginView.logout}" value="Logout" style="color: blue;" />

        </h:body>

    </ui:define>
</ui:composition>
